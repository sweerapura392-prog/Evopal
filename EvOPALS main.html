<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Evopals Life Hub V4</title>
<script src="https://cdn.tailwindcss.com"></script>
<script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
<style>
[x-cloak]{display:none!important;}
body{margin:0;font-family:sans-serif;overflow-x:hidden;}
.float{animation:float 3s ease-in-out infinite;}
@keyframes float{0%,100%{transform:translateY(0);}50%{transform:translateY(-12px);}}
.gradient-bg{background: linear-gradient(135deg,#f472b6,#7c3aed,#3b82f6);background-size:400% 400%;animation:gradient 8s ease infinite;position:relative;overflow:hidden;}
@keyframes gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.glass{background: rgba(255,255,255,0.1);backdrop-filter: blur(16px);}
.task-done{text-decoration:line-through;opacity:0.5;}
.particle{position:absolute;border-radius:50%;opacity:0.3;animation:floatParticle 10s linear infinite;}
@keyframes floatParticle{0%{transform:translateY(0) translateX(0);}50%{transform:translateY(-50px) translateX(20px);}100%{transform:translateY(0) translateX(0);}}
.modal-bg{background:rgba(0,0,0,0.6);}
</style>
</head>
<body x-data="evopals()" x-init="init()">

<!-- LOADING SCREEN -->
<div x-show="screen==='loading'" class="fixed inset-0 gradient-bg flex flex-col items-center justify-center z-50">
  <div class="text-8xl float drop-shadow-2xl" x-text="petEmoji"></div>
  <h1 class="mt-6 text-4xl font-extrabold tracking-widest">EVOPALS</h1>
  <p class="mt-4 text-sm tracking-[0.3em] animate-pulse">PREPARING YOUR LIFE</p>
</div>

<!-- APP CONTAINER -->
<div x-show="screen!=='loading'" class="h-screen flex flex-col relative gradient-bg overflow-hidden">

<!-- Particle Background -->
<template x-for="n in 30">
  <div class="particle" :style="`width:${2+Math.random()*8}px;height:${2+Math.random()*8}px;top:${Math.random()*100}%;left:${Math.random()*100}%`"></div>
</template>

<!-- HEADER -->
<header class="flex items-center justify-between px-5 py-4 bg-gradient-to-r from-purple-800 to-indigo-800 z-50 relative">
<h2 class="font-bold text-lg text-white">Evopals Life Hub</h2>
<div class="flex items-center gap-3">
  <div class="text-sm text-white">Lvl <span x-text="level"></span></div>
  <!-- Dropdown Menu Trigger -->
  <div class="relative" x-data="{open:false}" class="z-50">
    <button @click="open=!open" class="text-white text-xl font-bold">‚öôÔ∏è</button>
    <div x-show="open" @click.outside="open=false" x-cloak class="absolute right-0 mt-2 w-56 bg-white/10 backdrop-blur-lg rounded-xl shadow-lg p-4 space-y-2 z-[999]">
      <h3 class="font-bold text-white text-sm">Settings & Customize</h3>
      <button @click="showPetCustomization=true; open=false;playSound('custom')" class="w-full py-2 px-3 bg-blue-500 text-white rounded">Customize Pet</button>
      <button @click="changeTheme(); open=false;playSound('theme')" class="w-full py-2 px-3 bg-green-500 text-white rounded">Change Background Theme</button>
      <button @click="screen='games'; open=false;playSound('game')" class="w-full py-2 px-3 bg-purple-500 text-white rounded">Mini Games</button>
    </div>
  </div>
</div>
</header>

<main class="flex-1 overflow-y-auto p-5 z-10 relative">

<!-- DASHBOARD -->
<div x-show="screen==='dashboard'" class="space-y-6">

<!-- Pet Card -->
<div class="glass rounded-3xl p-6 text-center relative">
<div class="text-7xl float" x-text="currentPetEmoji"></div>
<h3 class="mt-3 font-bold text-xl text-white" x-text="petName"></h3>
<p class="text-xs opacity-70 mt-1 text-white" x-text="petMoodText"></p>
<div class="mt-4 flex justify-center gap-1">
<template x-for="i in 4">
<div class="w-6 h-2 rounded-full" :class="i <= xp/25 ? 'bg-green-400' : 'bg-white/20'"></div>
</template>
</div>
</div>

<!-- Weekly Planner -->
<div class="space-y-4">
<h3 class="font-bold text-lg text-white">Weekly Planner</h3>
<template x-for="(tasks,day) in weekTasks">
<div class="glass rounded-2xl p-4">
<div class="flex justify-between items-center mb-2">
<h4 class="font-semibold text-white" x-text="day"></h4>
<button @click="openTaskModal(day);playSound('click')" class="px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600">+ Add Task</button>
</div>
<template x-for="task in tasks">
<div class="flex flex-col mb-2 p-2 rounded" :class="task.done ? 'task-done bg-white/10' : task.priority==='high' ? 'bg-red-500/40' : task.priority==='medium' ? 'bg-yellow-400/30' : 'bg-white/10'">
<div class="flex justify-between items-center">
<p class="font-bold text-white" x-text="task.name"></p>
<div class="flex gap-2">
<button @click="completeTask(day,task)" class="px-2 py-1 bg-green-500 rounded text-xs font-bold hover:bg-green-600" x-show="!task.done">Done</button>
<span x-show="task.done" class="text-green-400 text-xs">‚úî</span>
</div>
</div>
<p class="text-xs text-white/80" x-show="task.notes" x-text="task.notes"></p>
<a :href="task.link" target="_blank" class="text-blue-200 text-xs underline" x-show="task.link" x-text="task.link"></a>
</div>
</template>
</div>
</template>
</div>

</div>

<!-- PET CUSTOMIZATION MODAL -->
<div x-show="showPetCustomization" x-cloak class="fixed inset-0 flex items-center justify-center z-50">
<div class="modal-bg absolute inset-0"></div>
<div class="bg-white rounded-xl p-6 relative z-50 w-11/12 max-w-md">
<h3 class="font-bold text-lg mb-2">Customize Your EvoPal</h3>
<div class="grid grid-cols-3 gap-4">
<template x-for="p in pets">
<button @click="if(!p.locked){petEmoji = p.emoji; playSound('custom')}" class="glass p-4 rounded-xl text-3xl" :class="petEmoji===p.emoji?'ring-2 ring-blue-500':''">
<span x-text="p.emoji"></span>
<p class="text-xs mt-1 text-white" x-text="p.locked?'Coming Soon':''"></p>
</button>
</template>
</div>
<div class="flex justify-end mt-4 gap-2">
<button @click="showPetCustomization=false;playSound('click')" class="px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500">Close</button>
</div>
</div>
</div>

<!-- TASK MODAL -->
<div x-show="showTaskModal" x-cloak class="fixed inset-0 flex items-center justify-center z-50">
<div class="modal-bg absolute inset-0"></div>
<div class="bg-white rounded-xl p-6 relative z-50 w-11/12 max-w-md">
<h3 class="font-bold text-lg mb-2">Add Task for <span x-text="currentModalDay"></span></h3>
<input type="text" x-model="newTaskName" placeholder="Task title" class="w-full p-2 border rounded mb-2">
<textarea x-model="newTaskNotes" placeholder="Notes / Grocery list" class="w-full p-2 border rounded mb-2"></textarea>
<input type="text" x-model="newTaskLink" placeholder="Link (Google Meet / Docs / etc)" class="w-full p-2 border rounded mb-2">
<select x-model="newTaskPriority" class="w-full p-2 border rounded mb-2">
<option value="">Priority</option>
<option value="high">High üî¥</option>
<option value="medium">Medium üü°</option>
<option value="low">Low üü¢</option>
</select>
<div class="flex justify-end gap-2">
<button @click="addTask();playSound('task')" class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600">Add</button>
<button @click="closeTaskModal();playSound('click')" class="px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500">Cancel</button>
</div>
</div>
</div>

<!-- GAMES -->
<div x-show="screen==='games'" class="space-y-6 text-center">
<h2 class="text-2xl font-bold text-white">Mini Games</h2>
<template x-for="g in games">
<div class="glass rounded-3xl p-6">
<p class="text-lg mb-2 text-white" x-text="g.name"></p>
<p class="text-sm opacity-70 text-white" x-text="g.locked?'Coming Soon':'Play Now'"></p>
</div>
</template>
<button @click="screen='dashboard';playSound('click')" class="w-full py-3 rounded-xl bg-indigo-500 font-bold text-white">Back</button>
</div>

</main>

<script>
function evopals(){
return{
screen:'loading',
petName:'Nova',
petEmoji:'üê±',
level:1,
xp:0,
mood:'happy',
weekTasks:{
'Sunday':[], 'Monday':[], 'Tuesday':[], 'Wednesday':[], 'Thursday':[], 'Friday':[], 'Saturday':[]
},
pets:[
{emoji:'üê±',locked:false},{emoji:'üê∂',locked:true},{emoji:'üê≤',locked:true},{emoji:'ü¶Ñ',locked:true},{emoji:'ü§ñ',locked:true}
],
games:[
{name:'Gear Shift Racer',locked:true},
{name:'Memory Sprint',locked:true}
],
showTaskModal:false,
showPetCustomization:false,
currentModalDay:'',
newTaskName:'',
newTaskNotes:'',
newTaskLink:'',
newTaskPriority:'',
get currentPetEmoji(){return this.petEmoji;},
get petMoodText(){
if(this.mood==='happy') return 'üòé Feeling awesome!';
if(this.mood==='tired') return 'üò¥ Needs energy';
if(this.mood==='excited') return 'ü§© Ready!';
return '';
},
init(){
const saved=JSON.parse(localStorage.getItem('evopals_lifehub_v4'));
if(saved) Object.assign(this,saved);
setTimeout(()=>this.screen='dashboard',1500);
},
openTaskModal(day){ this.currentModalDay=day; this.newTaskName=''; this.newTaskNotes=''; this.newTaskLink=''; this.newTaskPriority=''; this.showTaskModal=true; },
closeTaskModal(){ this.showTaskModal=false; },
addTask(){
if(this.newTaskName.trim()==='') return;
this.weekTasks[this.currentModalDay].push({name:this.newTaskName,notes:this.newTaskNotes,link:this.newTaskLink,priority:this.newTaskPriority,done:false});
this.save();
},
completeTask(day,task){
if(task.done) return;
task.done=true;
this.xp+=20;
this.mood='happy';
this.playSound('task');
if(this.xp>=100){this.level++; this.xp=0; this.mood='excited'; this.playSound('levelup'); if(navigator.vibrate) navigator.vibrate(100);}
this.save();
if(Notification.permission==='granted'){new Notification(`Nova says: You completed "${task.name}"! üòé`);}
else if(Notification.permission!=='denied'){Notification.requestPermission();}
},
changeTheme(){alert('Theme change coming soon!'); this.playSound('theme');},
save(){localStorage.setItem('evopals_lifehub_v4',JSON.stringify(this));},
playSound(type){
let audio;
switch(type){
case 'task': audio=new Audio('https://www.soundjay.com/button/sounds/button-3.mp3'); break;
case 'levelup': audio=new Audio('https://www.soundjay.com/button/sounds/button-09.mp3'); break;
case 'custom': audio=new Audio('https://www.soundjay.com/button/sounds/button-10.mp3'); break;
case 'click': audio=new Audio('https://www.soundjay.com/button/sounds/button-16.mp3'); break;
case 'theme': audio=new Audio('https://www.soundjay.com/button/sounds/button-7.mp3'); break;
case 'game': audio=new Audio('https://www.soundjay.com/button/sounds/button-15.mp3'); break;
default:return;
}
audio.volume=0.3; audio.play();
}
}
}
</script>

</body>
</html>
